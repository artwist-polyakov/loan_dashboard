Техническое задание: интерактивный дашборд «Ипотека vs Вклад»

Цели и общая идея проекта

Создать веб-приложение (интерактивный дашборд) для сравнения финансовой привлекательности покупки квартиры в ипотеку по программе «Семейная ипотека» (ставка ~6% годовых) с альтернативным вариантом — размещением тех же средств на банковском вкладе. Дашборд должен моделировать все основные денежные потоки: платежи по ипотеке, расходы на первоначальный взнос и ремонт, рост стоимости недвижимости, доходы от аренды, а также альтернативный доход от вложения тех же сумм на депозит. Цель — наглядно показать, какой вариант выгоднее через заданное число лет и при каких условиях.

Контекст: Программа «Семейная ипотека» предоставляет льготную ставку 6% годовых для семей с детьми (минимальный первоначальный взнос 20% от стоимости жилья) ￼. Это значительно ниже рыночных ставок (например, средняя ставка по ипотеке в РФ летом 2025 превышала 22% ￼), что делает такой кредит более доступным. Тем не менее, даже при 6% годовых заемщик платит проценты, и важно сравнить, не принесет ли больше выгоды просто хранить или инвестировать деньги под процент. Дашборд должен помочь ответить на этот вопрос, учитывая инфляцию и другие факторы.

Функциональные требования

Входные параметры (пользовательские настройки)

Дашборд должен предоставить пользователю набор интерактивных полей для ввода основных параметров моделирования:
    •    Стоимость недвижимости (цена объекта) – текущая цена квартиры, руб. Пользователь вводит цену покупки.
    •    Первоначальный взнос – сумма, вносимая сразу (минимум ~20% согласно условиям семейной ипотеки ￼). Должна быть числовым полем; по умолчанию, например, 20% от цены объекта (но пользователь может изменить).
    •    Площадь квартиры, м² – опциональное поле. Если введено, приложение рассчитывает и отображает цену за квадратный метр (цена объекта / площадь) для наглядности.
    •    Срок анализа, N лет – период, через который проводим оценку. Пользователь задает горизонт планирования (например, 5, 10, 15 лет). Это не обязательно равняется сроку ипотеки, а сроку, через который пользователь планирует оценить результат (в том числе продажу квартиры).
    •    Процентная ставка ипотеки – годовая процентная ставка по кредиту. По умолчанию стоит 6% (семейная ипотека) ￼. Пользователь может изменить (для моделирования изменений программы или сравнения с рыночной ставкой). Ставка используется для расчета графика платежей.
    •    Ежемесячный платеж по ипотеке – рассчитывается автоматически при заданных сумме кредита (цена минус взнос), ставке и сроке кредита (см. раздел «Расчеты»). Пользователь может видеть рассчитанный платеж и при необходимости задать дополнительный платеж M:
    •    Дополнительное погашение, M руб./мес – опциональное поле. Если пользователь планирует платить сверх обязательного ежемесячного платежа, он вводит сумму M. Это моделирует досрочное частичное погашение ипотеки каждый месяц сверх графика. Например, M = 5 000 ₽ означает, что ежемесячно заемщик платит на 5 тыс. больше минимального аннуитетного платежа, тем самым сокращая срок кредита и уменьшая переплату ￼.
    •    Срок кредита – по умолчанию можно принять максимальный (например, 30 лет), если не задан явно. Это нужно для расчета аннуитетного платежа. Пользователь может изменить срок кредита (в годах) при необходимости. Если срок кредита больше N (горизонта анализа), то к моменту анализа кредит еще не выплачен полностью, и останется остаток долга. Если же срок кредита меньше N (редко, но возможно, например, при очень большом доп. платеже M), к моменту анализа кредит будет уже погашен.
    •    Ожидаемый год сдачи дома – год, когда дом будет введен в эксплуатацию (актуально, если недвижимость покупается на стадии строительства). Это нужно для учета отсрочки по аренде и индексирования стоимости ремонта:
    •    Если объект уже готов и заселен, год сдачи можно считать текущим годом.
    •    Если объект строится, год сдачи > текущего года. До года сдачи пользователь не получает дохода от аренды, но уже платит ипотеку (в модели игнорируем льготные периоды по выплате процентов, считаем что платежи идут стандартно с момента выдачи кредита).
    •    Текущая годовая инфляция, % – используется для моделирования роста цен. Пользователь вводит прогнозный средний уровень инфляции (по умолчанию можно поставить, скажем, 5–6% годовых). Этот параметр влияет на:
    •    Рост стоимости недвижимости (если считаем, что цена квартиры растет пропорционально инфляции, либо задаем сценарии — см. ниже).
    •    Рост ставки аренды (индексация аренды ежегодно на уровень инфляции).
    •    Рост стоимости ремонта (индексация от базовой стоимости, до года сдачи).
    •    Примечание: В продвинутом режиме (режим «эквалайзера», см. ниже) инфляция может не быть постоянной, а меняться по годам.
    •    Ставка по банковскому вкладу, % – эффективная годовая доходность, под которую можно разместить деньги на депозит. Пользователь вводит текущую ставку депозита (по умолчанию, например, 8% годовых – условно выше инфляции, что соответствует реальным предложениям банков в период высокой ключевой ставки).
    •    По умолчанию считаем ставку фиксированной на весь срок N. Однако сильные изменения инфляции обычно ведут к изменению и ставок по вкладам ￼. Поэтому при использовании «динамического режима» (см. ниже) этот параметр будет зависеть от года (ключевая ставка ЦБ и доходность вкладов привязаны к инфляции).
    •    Текущая месячная арендная плата, руб/мес – сколько квартира могла бы приносить сейчас в месяц, если ее сдавать. Пользователь вводит оценочную аренду (можно подсказать, что обычно  annual yield ~3-5% от стоимости, но точное значение на усмотрение пользователя).
    •    В расчетах предполагается, что аренда растет каждый год на уровень инфляции (индексация арендной ставки ежегодно).
    •    Если год сдачи дома в будущем, то аренда начинает поступать только после сдачи + ремонта (см. далее).
    •    Базовая стоимость ремонта за м², руб – по умолчанию 170 000 ₽/м² (примерная актуальная стоимость отделки под ключ). Это стоимость на текущий момент, за единицу площади.
    •    Расчет стоимости ремонта: = базовая стоимость * площадь.
    •    Если дом сдается без отделки и требуется ремонт, расход на ремонт закладываем в год сдачи дома (разовым платежом). Эту сумму нужно проиндексировать с учетом инфляции от текущего года до года сдачи. Например, если сейчас ремонт 170 тыс./м², площадь 50 м², а дом сдадут через 3 года при инфляции ~6%, то ожидаемая стоимость ремонта = 170k * 50 * (1+0,06)^3.
    •    Пользователь может менять базовую цену ремонта (например, для более дешевого/дорогого варианта отделки).
    •    Можно добавить флажок «Ремонт требуется» – если отключен, то расходы на ремонт не учитываются (для вариантов с готовой отделкой).

Расчетные показатели и формулы

На основе введенных пользователем параметров, дашборд должен выполнить следующие расчеты:
    1.    Размер кредита: сумма кредита = Цена объекта – Первоначальный взнос.
    2.    Аннуитетный платеж по ипотеке: рассчитывается классической формулой аннуитета, исходя из суммы кредита, годовой ставки и срока кредита. Формула месячного платежа P выглядит так:
P = S \times \frac{i \times (1+i)^N}{(1+i)^N - 1},
где S – сумма кредита, i – месячная процентная ставка (годовая ставка / 12), N – общее число месяцев выплаты кредита. Это эквивалентно формуле коэффициента аннуитета: K = \frac{M \times (1+M)^N}{(1+M)^N - 1}, где M – месячная ставка, N – кол-во платежей ￼. Соответственно P = S \times K.
Пример для проверки: при S = 5 000 000 ₽, i = 0,005 (6% годовых / 12), N = 180 мес (15 лет) – P ≈ 42,2 тыс. ₽ ￼.
    3.    График погашения ипотеки: необходимо смоделировать помесячно, как будет уменьшаться остаток основного долга и каковы проценты:
    •    В начале каждого месяца рассчитываем процент на текущий остаток долга: Interest_month = Current_balance * (годовая_ставка/12).
    •    Аннуитетный платеж фиксирован: Payment = P (рассчитанный выше).
    •    Погашение основного долга за месяц: Principal_payment = Payment - Interest_month.
    •    Новый остаток долга: Current_balance = Current_balance - Principal_payment.
    •    Этот процесс повторяется каждый месяц. В начале срока долга большая часть платежа уходит на проценты, к концу – большая часть на погашение основного долга ￼. Последний платеж может слегка отличаться, чтобы погасить долг полностью.
    •    Досрочное гашение M: Если задан доп. платеж M, то модель меняется – каждый месяц заемщик платит Payment_total = P + M. В расчете:
    •    Principal_payment = Payment_total - Interest_month (т.е. дополнительно гасится +M в тело).
    •    Это ведет к более быстрому снижению остатка долга.
    •    Нужно учитывать, что доплаты M приведут к сокращению фактического срока кредита: кредит может погаситься раньше, чем N месяцев.
    •    Модель должна определять, когда остаток долга станет ≤ 0 (переплата сверх долга).
    •    При полном погашении раньше срока дальнейшие платежи прекращаются.
    •    Обычно при частичном досрочном погашении банки позволяют выбрать: уменьшить срок кредита или уменьшить ежемесячный платеж ￼. В нашем моделировании примем, что сокращается срок (т.е. платеж остается прежним, а кредит закрывается раньше), так как нас интересует максимальная выгода и сравнение итоговых затрат.
    •    Итого по ипотеке к моменту N лет:
    •    Определяем остаток долга спустя N лет (если кредит еще не погашен к этому времени). Этот остаток понадобится для расчета результата при продаже.
    •    Суммируем общую выплаченную сумму по ипотеке за N лет: это первоначальный взнос + все ежемесячные платежи за N лет (с учетом M).
    •    Также можно суммировать отдельно выплаченные проценты (переплату) за N лет.
    •    Примечание: мы не учитываем штрафы или комиссии, считаем досрочные погашения без комиссии (как это обычно и есть сейчас).
    4.    Рост стоимости недвижимости: Рассчитываем ожидаемую цену квартиры через N лет. Здесь можно подойти двумя способами (лучше дать пользователю или задаче три сценария: оптимистичный, базовый, пессимистичный):
    •    Базовый сценарий: считаем, что цена недвижимости растет каждый год на уровень инфляции (то есть в реальном выражении не меняется). Тогда: Цена_N = Цена_сейчас * (1 + инфляция)^N (если инфляция неизменна каждый год; либо перемножаем по годам, если инфляция задается помесячно/помесячно).
    •    Оптимистичный сценарий: недвижимость дорожает быстрее инфляции. Можно задать, например, +2–3% реального роста в год. Например: рост = инфляция + 3% пунктов. Тогда: Цена_N_opt = Цена_сейчас * ((1 + инфляция + 0,03)^N). Либо пользователь может вручную увеличить ожидаемую цену N-летнюю (но удобнее зашить правило).
    •    Пессимистичный сценарий: цены растут медленнее инфляции или стагнируют. Например: рост = инфляция – 2% пунктa (или минимум 0%). Тогда Цена_N_min = Цена_сейчас * ((1 + max(инфляция-0,02, 0))^N). В экстремальном случае можно даже допустить снижение цены (например, 0% роста номинально при инфляции).
    •    Вывести пользователю три значения: минимальное, базовое и максимальное предполагаемое значение квартиры через N лет. Можно обозначить как «минимум», «ожидание/базовый», «оптимум».
    •    Дополнительно: предусмотреть возможность ручного ввода прогнозной цены через N лет (вместо расчета по процентам) – но тогда придется отказатьcя от сценариев. Возможно, лучше придерживаться сценарного подхода для наглядности.
    5.    Доход от аренды: Если квартира не продается, то она может приносить арендный доход:
    •    Начало аренды: если год сдачи дома ≤ текущий, значит аренда возможна сразу. Если дом строится и год сдачи > текущего, арендные платежи начинаются только после года сдачи + ремонта. Например, если дом сдаётся в 2027 и требуется 1 год на ремонт/отделку, то аренда начнет поступать с 2028. (Можно упростить, предположив, что ремонт делается быстро, и аренда начинается со следующего месяца после сдачи.)
    •    Расчет аренды: вводится текущая месячная ставка аренды (Year 0). Для каждого следующего года до N: Аренда_год_k = Аренда_год_(k-1) * (1 + инфляция) (индексация ежегодно).
    •    Доход за весь период: суммируем все помесячные арендные поступления от момента сдачи до N лет. (Можно считать поквартально или ежегодно с распределением по месяцам, это детали реализации.)
    •    Чистый доход от аренды: тут нужно решить, вычитаем ли из арендных платежей расходы на ипотеку или нет:
    •    Один вариант: не смешивать потоки. Показывать валовый доход от аренды за N лет отдельно, а расходы на ипотеку отдельно. Пользователь сам соотнесет, покрывает ли аренда ипотеку.
    •    Другой вариант: считать чистый денежный поток для владельца: аренда минус ежемесячный платеж (если платеж > аренды, поток отрицательный). Но это усложняет восприятие. Вероятно, лучше показывать отдельно: сколько всего заплатили по ипотеке и сколько всего получили от аренды за N лет.
    •    Дашборд должен отобразить общую сумму полученной аренды за N лет. Если надо – можно также отобразить ежегодный доход от аренды или средний месячный к N-му году.
    6.    Стоимость ремонта: Рассчитывается, как упоминалось, на год сдачи:
    •    Стоимость_ремонта = базовая_цена_ремонта * площадь * (1 + инфляция)^(Год_сдачи - Текущий_год).
    •    Эта сумма считается расходом, который владельцу придется вложить. Ее стоит явно показать.
    •    Если ремонт происходит не сразу, а спустя несколько лет (когда дом сдан), то логично предположить, что источник средств ремонта – либо накопленные к тому моменту деньги, либо часть ипотеки. В упрощении можно считать, что владелец платит из своего кармана (т.е. еще одна инвестиция).
    •    Отдельно можно посчитать: если бы эту сумму не тратить на ремонт, а положить в банк в момент сдачи, какой бы дополнительный доход получился к N годам (см. п.8 ниже).
    7.    Итоговые финансовые результаты к концу периода N:
Нужно сравнить две стратегии:
    •    Стратегия A – покупка в ипотеку и продажа через N лет. В этом случае к концу периода у пользователя происходит продажа недвижимости:
    •    Выручка от продажи: = цена квартиры через N лет (берем базовый или по сценарию) минус остаток долга по ипотеке на этот момент (если кредит не погашен). Это чистая сумма, которая достанется владельцу от продажи, погасив кредит.
    •    Вложенные за N лет средства: первоначальный взнос + сумма всех ипотечных платежей за N лет (если были доп. платежи, они входят) + расходы на ремонт (если был). Но важно: в задаче указано «вычесть из стоимости продажи остаток по ипотеке и все взносы, которые были вложены кроме ремонта». То есть, видимо:
    •    Чистый прибыль/убыток от инвестиции = (выручка от продажи) минус (первоначальный взнос + все ежемесячные платежи за N лет). Ремонт исключается из вычета, возможно потому что ремонт увеличивает стоимость квартиры и как бы не считается «потерянными» деньгами (это вложение, которое отразилось в более высокой цене продажи).
    •    Однако, если цена роста рассчитывалась с учетом инфляции, можно считать, что базовая цена уже отражает ремонт? Вероятно, лучше явно:
    •    Не вычитать расходы на ремонт из прибыли (как и сказано), но показать их отдельной строкой.
    •    Таким образом, доход от продажи через N лет = (выручка от продажи) – (все уплаченные банку деньги). Это покажет финансовый результат именно относительно альтернативы «держать деньги при себе».
    •    Возможна ситуация, что эта величина отрицательна (если за N лет процентов уплачено больше, чем выросла цена квартиры). Тогда инвестор в минусе относительно стартовых позиций.
    •    Стратегия B – покупка в ипотеку и сдача в аренду (без продажи). К концу периода N лет пользователь не продает квартиру, но получает доход от аренды и у него остается актив – квартира:
    •    Доход от аренды за N лет (сумма, рассчитанная ранее).
    •    Оставшаяся задолженность по ипотеке (если не погашена) – остается, но квартира тоже остается. Для полного сравнения стоило бы оценить капитализацию: например, посчитать текущую стоимость чистого актива = (рыночная цена квартиры минус остаток долга). По сути это капитал владельца в недвижимости к концу периода (equity).
    •    Можно вывести стоимость квартиры через N (чтобы пользователь видел, сколько она стоит, но так как не продаем, это нереализованная прибыль) и остаток долга. Их разница = чистая стоимость актива (похожая на сценарий продажи, но не полученная на руки).
    •    В отчете можно показать:
    •    Сколько заработано на аренде за N лет (кумулятивно).
    •    Сколько заплачено банку за N лет (кумулятивно).
    •    Текущую рыночную цену квартиры и остаток долга (то есть, если он сейчас продаст в N+1 году, сколько бы получил).
    •    Важно: формально «доходом через N лет от сдачи» можно назвать сумму полученной аренды (валовую). Но вероятно лучше сформулировать: «Доход от аренды за N лет» – это отдельный показатель, а «Чистая стоимость актива (квартиры) на конец периода» – другой. Пользователь сможет оценить оба.
    •    Стратегия C – не покупать, а копить деньги на вкладе. Это альтернативный сценарий, против которого и сравниваются A и B:
    •    Предполагаем, что пользователь вместо того, чтобы внести первоначальный взнос и платить ипотеку, кладает эти средства на депозит:
    •    В момент 0: первоначальный взнос уходит на вклад.
    •    Каждый месяц: сумму, эквивалентную ипотечному платежу (и доп. платежу M, если был задан) он тоже отправляет на депозит. То есть, тот же cashflow, что уходил бы банку, теперь работает на пользователя.
    •    Вклад растет за счет пополнений и начисления процентов. Проценты по депозиту можно считать начисляемыми ежемесячно (капитализация ежемесячная).
    •    Нужно учесть ставку по вкладу (если она постоянная) либо динамическую (при режиме эквалайзера, см. ниже).
    •    Итог на депозите через N лет: рассчитать конечный баланс счета. Это сумма, которой пользователь бы располагал, если бы не брал ипотеку.
    •    Также можно рассчитать сколько из этой суммы – его вложения, а сколько – начисленные проценты. Например, назвать это «доход от депозита»: это конечный баланс минус сумма всех вложенных взносов. (Аналогично тому, как мы считали прибыль от продажи: там выручка минус вложения).
    •    Пример расчета вклада: Если ставка депозита D годовых, то ежемесячная ставка = D/12. Каждый месяц баланс увеличивается на процентов и пополняется. Математически, конечный баланс можно получить по формуле сложных процентов с регулярным пополнением, либо итеративно.
    •    Для приближенного ручного расчета: Баланс_N \approx \text{ПВ} \times (1+\frac{D}{12})^{12N} + \text{Платеж}_\text{мес} \times \frac{(1+\frac{D}{12})^{12N} - 1}{\frac{D}{12}}. Но надежнее просчитать по месяцам в коде.
    •    Доход от депозита (проценты) к концу N лет часто бывает сопоставим или выше потенциальной прибыли от недвижимости, особенно если депозитные ставки высоки относительно роста цен ￼. Дашборд должен показать это наглядно.
    8.    Сравнение результатов: В результате, нужно вывести ключевые показатели, сравнивая стратегию «Ипотека» и «Вклад». Рекомендуемый набор выводимых метрик:
    •    Стоимость квартиры через N лет: минимум / базовая / максимум (руб). Это относится к стратегии покупки недвижимости, для ориентира.
    •    Остаток долга по ипотеке через N лет (руб) – если 0, значит кредит выплачен к этому моменту.
    •    Суммарно уплачено по ипотеке за N лет (руб) – включая проценты и тело (без первоначального взноса, либо включая? Можно и то и другое):
    •    Например: Первоначальный взнос (руб), Выплаты банку (сумма платежей) за N лет (руб), из них процентов (руб).
    •    Расход на ремонт (руб, с инфляцией до нужного года) – если был.
    •    Доход от продажи недвижимости через N лет (руб) – после вычета остатка долга и вложенных платежей (кроме ремонта). То есть чистая прибыль от операции «купил и продал». Если число отрицательное, вывести со знаком минус (убыток).
    •    Доход от аренды за N лет (руб) – валовый доход, полученный от сдачи.
    •    Чистая стоимость квартиры (рыночная цена минус долг) на конец периода N (руб) – показатель капитала владельца в недвижимости, если не продавать.
    •    Конечный баланс депозита через N лет (руб) – сколько накопилось на вкладе.
    •    Доход от депозита (проценты) за N лет (руб) – т.е. конечный баланс минус сумма всех внесенных денег (первоначальный взнос + ежемесячные эквиваленты платежей + эквивалент ремонта, если хотим смоделировать что и деньги на ремонт остались на вкладе вместо траты).
    •    Доход от вложения суммы ремонта в банк (руб) – отдельный показатель по задаче: если предположить, что сумму, которую потратили на ремонт, вместо этого положили в банк в момент сдачи дома, то к N году она бы выросла на некоторую величину процентов.
    •    Можно вычислить: Доход_\text{ремонт-вклад} = \text{Стоимость ремонта} \times ((1 + D)^{(N - (Год_сдачи - Текущий))} - 1). Проще – смоделировать аналогично с даты ремонта до N.
    •    Этот показатель иллюстрирует «упущенный процент», потраченный на ремонт.
    •    Привлекательность ипотеки vs вклада: в качественной форме: например, выделить, какая стратегия дала больше денег к концу периода. Можно подсветить разницу:
    •    Например, «Разница между стратегией “вклад” и “ипотека + продажа” составляет X рублей в пользу …».
    •    И/или «При указанных условиях выгоднее <опция> на Y рублей».
    •    Возможно, какие-то графики или визуализации (см. ниже), чтобы пользователь сам увидел динамику.

Динамический режим «эквалайзер» для инфляции и ставок

Важное требование: реализовать режим, при котором пользователь может задать нестандартный сценарий изменения инфляции и ставок по годам. Эта возможность описана как «поменять динамику инфляции по примеру эквалайзера в аудиоприложениях» – т.е. предоставить интерактивный график/набор ползунков, позволяющий установить уровень инфляции по годам (или даже поквартально) на протяжении периода N. При активации этого режима:
    •    Поле «инфляция, %» и «ставка вклада, %» становятся неактивны (заморожены) на время настройки эквалайзера. То есть, либо пользователь использует простую модель с постоянной инфляцией, либо сложную с эквалайзером, чтобы не было противоречий.
    •    Интерфейс может выглядеть как набор ползунков по годам: например, если N=10 лет, отобразить 10 ползунков (Year 1…Year 10) со значением инфляции для каждого года. По умолчанию они выставлены на уровень, равный текущей «инфляции, %» поля (постоянный), но пользователь может их двигать, задавая, скажем, инфляционный всплеск или снижение в разные годы.
    •    Привязка ключевой ставки/ставки вклада: Обычно процент по депозитам следует за ключевой ставкой ЦБ, а та – за инфляцией. Можно задать простое правило, например: ставка вклада каждый год = инфляция этого года + константа (например, +2%). Либо более сложную зависимость (но, чтобы не усложнять, простого правила достаточно). В итоге при изменении каждого ползунка инфляции на год автоматически меняется предположенная ставка вклада для того года.
    •    Альтернативный подход: дать два эквалайзера – один для инфляции, другой для ставки вклада – но это избыточно и усложнит интерфейс. Предпочтительнее один эквалайзер (инфляция) + логика, привязывающая депозитную ставку к инфляции.
    •    Можно отобразить одновременно два графика: инфляция и ставка, чтобы пользователь видел, как ставка повторяет динамику инфляции (со сдвигом).
    •    Динамическое моделирование с эквалайзером: расчеты меняются:
    •    Цена недвижимости, аренда, ремонт – индексируются по году с соответствующим коэффициентом инфляции данного года (перемножаем годовые факторы, которые уже разные).
    •    Вклад: можно считать поквартально или помесячно, но с изменением ставки раз в год. Проще – сделать расчет по годам: в течение года использовать ставку вклада этого года, затем на следующий год пересчитать под новую ставку и т.д. (Для точности — помесячно с линейной интерполяцией ставки или скачком в начале года).
    •    Ипотека: важно – в реальности ставка по ипотеке фиксирована (6%) и не зависит от инфляции. Мы не меняем ставку кредита (семейная ипотека остается 6% весь срок). Таким образом, график выплат по ипотеке не меняется из-за эквалайзера. (Если бы мы моделировали плавающую ставку кредита, было бы сложнее, но тут не требуются льготные периоды и т.п., ставка фиксирована).
    •    Выходные данные при динамическом сценарии интерпретируются так же, но дают пользователю больше возможностей стресс-тестировать модель:
    •    Например, можно смоделировать высокую инфляцию первые пару лет (что обычно означает быстрый рост цен на жилье, но и высокую ставку по вкладу), и затем снижение.
    •    Пользователь сможет увидеть, при каком сценарии макроусловий ипотека окупается/не окупается.
    •    UI: Эквалайзер можно разместить как скрываемый блок. Например, кнопка «✎ Настроить сценарий инфляции/ставки» – при нажатии раскроется панель с ползунками и графиком. Пока панель открыта, основные поля «инфляция» и «ставка вклада» неактивны. Будет кнопка «Применить сценарий» – после чего расчет будет по новой динамике. Также возможность «Отменить/Сбросить сценарий» – вернуть простой режим.

Визуализация результатов

Интерактивный дашборд должен предоставлять результаты в удобной, легко сравнимой форме. Основные элементы:
    •    Текстовые показатели и таблицы: Вывести перечисленные в пункте 7 показатели. Можно использовать блоки или таблицу:
    •    Например, блок «Ипотека через N лет» с подзаголовком, где перечислить: цена квартиры, долг остаток, выплачено банку, прибыль от продажи, доход от аренды и т.д.
    •    Блок «Вклад через N лет»: конечная сумма, начисленные проценты.
    •    Отдельно показать вложения: первоначальный взнос, ремонт (с учётом инфляции).
    •    Сделать эти блоки наглядными, с выделением ключевых сравнений (можно цветом подсветить, что больше).
    •    Графики: Графическая подача поможет восприятию:
    •    График баланса кредита vs депозита во времени: линия оставшегося долга и линия накоплений на депозите месяц за месяцем или год за годом. Это покажет, как депозит растет, а долг уменьшается.
    •    График чистых активов во времени: например, чистая стоимость квартиры (цена минус долг) vs баланс депозита по годам. К моменту N они сравниваются. Ниже приведен пример такого графика:
Пример динамики накоплений на вкладе (желтая линия) vs чистой стоимости квартиры при ипотеке (красная линия) за 10 лет. Предположения: ставка вклада 8%, ипотека 6% на 30 лет, инфляция 5% (цена жилья растет на 5%/год). Видно, что к концу периода депозит достигает ~13,2 млн ₽, а чистый капитал в недвижимости ~9,6 млн ₽. В данном сценарии вклад приносит больший финансовый результат, однако при других параметрах (например, более быстрый рост цен на жилье или меньшая ставка по вкладу) соотношение может измениться. Дашборд должен позволять пользователю исследовать такие зависимости, варьируя параметры.
    •    Диаграмма вложений и доходов: например, стобцы:
    •    Сколько денег вложено всего в ипотечный сценарий vs сколько получено (продажа + аренда).
    •    Сколько было бы на вкладе (итого) vs сколько вложено.
    •    Это может быть как waterfall-chart (каскад) или две колонки сравнения.
    •    Диаграмма структуры платежей: для интереса можно показать пирог: какой процент переплаты (проценты) по ипотеке, какой погашен долг, и т.д. (возможно, второстепенно).
    •    Аренда vs Платеж: график по годам, показывающий размер ежегодного платежа по ипотеке и размер годового дохода от аренды (особенно если поначалу платеж > аренды, а позже аренда может сравняться).
    •    UX взаимодействие: при изменении любого входного параметра результаты пересчитываются мгновенно (или по нажатию кнопки «Рассчитать»). Использовать возможности React для обновления состояния и перерасчета.
    •    Объяснения: Рядом с ключевыми показателями неплохо бы сделать значки «(i)» с всплывающими подсказками, объясняющими, что означает тот или иной показатель и как он вычислен. Например: «Доход от продажи = Цена_N – Остаток долга – Сумма выплат (без ремонта)».
    •    Единицы измерения и формат: Все денежные суммы отображать с разделением тысяч, в рублях. Проценты – с одним десятым, например «5,0%». Стараться избегать экспоненциальной формы (большие числа лучше подписать как «10 млн»).
    •    Логические проверки: Если пользователь ввел противоречивые данные (например, первоначальный взнос > цены или N лет меньше, чем время до сдачи дома и т.п.), выводить предупреждения.

Технические требования и стек
    1.    Стек: предпочтительно использовать JavaScript/TypeScript + React для разработки фронтенда. React позволит легко создавать динамические интерфейсы, обновлять графики по изменению состояний. Также можно воспользоваться фреймворками визуализации:
    •    Для графиков: например, Recharts, Chart.js или D3.js – чтобы построить линии, столбцы и т.д. (Recharts хорошо интегрируется с React и относительно прост).
    •    Для эквалайзера инфляции: можно использовать встроенные HTML-элементы range input (ползунки) либо специальные компоненты (например, Material-UI Slider). Несколько ползунков можно расположить на сетке с подписями годов.
    •    UI библиотека (по желанию): Ant Design, Material UI или просто стилизовать вручную CSS/SCSS, поскольку проект специфичный.
    2.    Развертывание: проект должен быть SPA, который можно выложить на GitHub Pages (GH Pages) или Netlify, Vercel и т.п. Так как все расчеты идут на клиенте, бекенд не требуется.
    •    Убедиться, что бандл не слишком велик (GH Pages ограничений по размеру особо не имеет, но лучше оптимизировать).
    •    Если будут использоваться тяжелые библиотеки, можно выбрать легкий хостинг. Но преимущество GH Pages – простота: можно настроить деплой через GitHub Actions или gh-pages branch.
    3.    Отсутствие внешних данных: Все вычисления – на основе пользовательского ввода и заданных формул. Не нужно подключаться к внешним API для ставок, инфляции и прочего – используем моделирование. Соответственно, приложение работает офлайн (после загрузки).
    4.    Время загрузки: так как дашборд планируется к публичному размещению, важно оптимизировать начальную загрузку (code splitting, минимизация). Предпочтительно, чтобы интерфейс загрузился быстро, а тяжелые компоненты (например, графики) подгружались по мере необходимости.
    5.    Поддержка браузеров: современные браузеры (Chrome, Firefox, Safari, Edge) на десктопе. Мобильная адаптивность желательна, хотя интерфейс с большим числом графиков и ползунков удобнее на большом экране. Но по возможности сделать вёрстку адаптивной.

Дополнительные пожелания и проверки
    •    Валидация ввода: проверять вводимые значения на допустимые диапазоны. Например, процент ставки 0–100%, цена > 0, взнос ≥ 0 (и <= цена), срок N – положительное целое и т.д. Выдавать предупреждения или устанавливать минимальные/максимальные значения.
    •    Пояснительная документация: Желательно подготовить краткую справку для пользователя внутри приложения (например, раздел «О модели» или подсказки рядом с заголовком), где описаны упрощения модели:
    •    Ставка ипотеки фиксирована, льготные периоды не учитываем.
    •    Налоги, страхование жилья, износ – не учтены.
    •    Доходность вклада фиксирована (или согласно сценарию) – капитализация ежемесячная.
    •    Ремонт считается добавляющим ценность, поэтому исключен из вычета прибыли.
    •    Эти допущения лучше явно озвучить.
    •    Тестирование сценариев: Протестировать различные кейсы:
    •    Высокая инфляция и ставка (вклад даст много процентов).
    •    Низкая или нулевая инфляция (недвижимость почти не дорожает).
    •    Разные доплаты M (без доплат vs большие доплаты).
    •    Короткий период N (например, 1-3 года, когда продажа точно невыгодна из-за расходов на вход/выход).
    •    Долгий период N (близкий к сроку кредита или больше).
    •    Год сдачи далеко в будущем (например, дом через 5 лет, а N=5 – тогда к моменту продажи дом только сдался; нужно убедиться, что аренда = 0 и рост цены учитывался на все 5 лет).
    •    Интересные зависимости: Дашборд должен позволить пользователю самостоятельно обнаруживать, при каких условиях стратегия меняется. Например:
    •    Как влияет инфляция: при более высокой инфляции недвижимость дорожает сильнее, но и вклад дает больше процентов – что перевесит?
    •    Как влияет разница между ставкой вклада и ростом цен: фактически, сравнение реальной доходности.
    •    Влияние доплаты M: можно добавить вывод «сколько лет кредита вы сэкономили благодаря M» или «переплата по процентам сокращена на X ₽».
    •    Точка безубыточности: при каком сочетании параметров доход от продажи равен доходу от вклада.
    •    Избежание ошибок округления: денежные расчеты лучше вести в копейках (целых числах) или с достаточной точностью, чтобы не накапливать ошибки. Результаты округлять при отображении (до рубля).
    •    Пример проверки результатов: Приложить несколько примеров (как в этом документе выше) для уверенности, что формулы реализованы правильно. Например, проверить, что при нулевой инфляции и равной ставке вклада и ипотеке, если исключить ремонт, итог должен быть примерно нулевой разницы (с поправкой на разность схем платежей).

Следуя этому техническому заданию, разработчик сможет создать интерактивный инструмент, дающий пользователю ясное представление об экономической целесообразности «семейной» ипотеки в сравнении с альтернативными финансовыми решениями. Такой дашборд будет полезен для финансового планирования семьи, позволяя учесть долгосрочные факторы и сделать осознанный выбор.  ￼ ￼
